<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>inference_daily_dir.inference_support module &mdash; MVP of a ML delivery 1.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="machine_learning_dir package" href="machine_learning_dir.html" />
    <link rel="prev" title="inference_daily_dir.inference_daily module" href="inference_daily_dir.inference_daily.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            MVP of a ML delivery
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">src</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="attributes_dir.html">attributes_dir package</a></li>
<li class="toctree-l2"><a class="reference internal" href="common_dir.html">common_dir package</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_flow_dir.html">data_flow_dir package</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="inference_daily_dir.html">inference_daily_dir package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="inference_daily_dir.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="inference_daily_dir.inference_daily.html">inference_daily_dir.inference_daily module</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">inference_daily_dir.inference_support module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="inference_daily_dir.html#module-inference_daily_dir">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="machine_learning_dir.html">machine_learning_dir package</a></li>
<li class="toctree-l2"><a class="reference internal" href="medallion_dir.html">medallion_dir package</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MVP of a ML delivery</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">src</a></li>
          <li class="breadcrumb-item"><a href="inference_daily_dir.html">inference_daily_dir package</a></li>
      <li class="breadcrumb-item active">inference_daily_dir.inference_support module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/inference_daily_dir.inference_support.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-inference_daily_dir.inference_support">
<span id="inference-daily-dir-inference-support-module"></span><h1>inference_daily_dir.inference_support module<a class="headerlink" href="#module-inference_daily_dir.inference_support" title="Permalink to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="inference_daily_dir.inference_support.InferenceSupportClass">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">inference_daily_dir.inference_support.</span></span><span class="sig-name descname"><span class="pre">InferenceSupportClass</span></span><a class="reference internal" href="_modules/inference_daily_dir/inference_support.html#InferenceSupportClass"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inference_daily_dir.inference_support.InferenceSupportClass" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class contains supports functions used when doing inference.</p>
<dl class="py method">
<dt class="sig sig-object py" id="inference_daily_dir.inference_support.InferenceSupportClass.check_if_unseeen_data_is_passed_to_model_fn">
<span class="sig-name descname"><span class="pre">check_if_unseeen_data_is_passed_to_model_fn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">daily_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">daily_pred_df</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/inference_daily_dir/inference_support.html#InferenceSupportClass.check_if_unseeen_data_is_passed_to_model_fn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inference_daily_dir.inference_support.InferenceSupportClass.check_if_unseeen_data_is_passed_to_model_fn" title="Permalink to this definition"></a></dt>
<dd><p>This function checks if unseen data is passed to the model. The model pipeline ignores rows which it has not been trained on. Therefore may the prediciton not be of the same length as the incoming data.
If subtracted_df is empty it means that no unseen data was passed to the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>daily_df</strong> (<em>pyspark.sql.dataframe.DataFrame</em>) – Incoming data which is of gold standard.</p></li>
<li><p><strong>daily_pred_df</strong> (<em>pyspark.sql.dataframe.DataFrame</em>) – The predicted data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="inference_daily_dir.inference_support.InferenceSupportClass.data_drift_fn">
<span class="sig-name descname"><span class="pre">data_drift_fn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">daily_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_data_data_drift_df</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/inference_daily_dir/inference_support.html#InferenceSupportClass.data_drift_fn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inference_daily_dir.inference_support.InferenceSupportClass.data_drift_fn" title="Permalink to this definition"></a></dt>
<dd><p>Measures the data drift of the incoming data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>daily_df</strong> (<em>pyspark.sql.dataframe.DataFrame</em>) – Incoming data which is of gold standard.</p></li>
<li><p><strong>reference_data_data_drift_df</strong> (<em>pyspark.sql.dataframe.DataFrame</em>) – The reference data which the model have been trained on.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="inference_daily_dir.inference_support.InferenceSupportClass.merge_into_fn">
<span class="sig-name descname"><span class="pre">merge_into_fn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">temp_df</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/inference_daily_dir/inference_support.html#InferenceSupportClass.merge_into_fn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inference_daily_dir.inference_support.InferenceSupportClass.merge_into_fn" title="Permalink to this definition"></a></dt>
<dd><p>Applies merge into for new data. Merge into updates the row if the join condition already exists and inserts a new row if it does not.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>temp_df</strong> (<em>pyspark.sql.dataframe.DataFrame</em>) – The spark dataframe to be checked.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="inference_daily_dir.inference_support.InferenceSupportClass.model_drift_fn">
<span class="sig-name descname"><span class="pre">model_drift_fn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">daily_pred_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_data_data_drift_df</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/inference_daily_dir/inference_support.html#InferenceSupportClass.model_drift_fn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inference_daily_dir.inference_support.InferenceSupportClass.model_drift_fn" title="Permalink to this definition"></a></dt>
<dd><p>Measures the model drift i.e. if the predicted data is not accurate anymore.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>daily_pred_df</strong> (<em>pyspark.sql.dataframe.DataFrame</em>) – The daily predictions.</p></li>
<li><p><strong>reference_data_data_drift_df</strong> (<em>pyspark.sql.dataframe.DataFrame</em>) – The reference data which the model have been trained on.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="inference_daily_dir.inference_daily.html" class="btn btn-neutral float-left" title="inference_daily_dir.inference_daily module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="machine_learning_dir.html" class="btn btn-neutral float-right" title="machine_learning_dir package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Andreas Forsberg.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>